(this["webpackJsonpdemo-todo-03-06-2021"]=this["webpackJsonpdemo-todo-03-06-2021"]||[]).push([[0],{195:function(e,t,n){},197:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),i=n.n(c),o=n(32),s=n(33),l=(n(195),n(8)),u=n.n(l),j=n(13),d=(n.p,n(16)),b=n(17),p=n(14),m=(n(197),n(1));function h(e){var t=e.todoList,n=e.onTodoClick;return Object(m.jsx)("ul",{className:"list-todo",children:t.map((function(e,t){return Object(m.jsx)("li",{className:"completed"===e.status?"completed":"",onClick:function(){return function(e,t){n&&n(e,t)}(e,t)},children:e.title},e.id)}))})}h.defaultProps={todoList:[],onTodoClick:null};var f=h,O=n(398),x=n(27);var g=function(e){var t=e.form,n=e.name,a=e.label,r=e.disable,c=t.formState.errors,i=t.formState,o=c[n]&&i.touchedFields[n];return Object(m.jsx)(x.a,{name:n,control:t.control,render:function(e){var t,i=e.field;return Object(m.jsx)(O.a,Object(d.a)(Object(d.a)({},i),{},{fullWidth:!0,variant:"outlined",margin:"normal",label:a,disabled:r,error:o,helperText:null===(t=c[n])||void 0===t?void 0:t.message}))}})},v=n(60),y=n(30);var w=function(e){var t=y.b().shape({title:y.d().required("Please enter title")}),n=Object(x.e)({defaultValues:{title:""},resolver:Object(v.a)(t)});return Object(m.jsx)("form",{onSubmit:n.handleSubmit((function(t){var n=e.onSubmit;n&&n(t)})),children:Object(m.jsx)(g,{name:"title",label:"Todo",form:n})})},S=n(44),C=n.n(S),N=n(18);var k=function(e){var t=[{id:1,title:"Eat",status:"new"},{id:2,title:"Sleep",status:"completed"},{id:3,title:"Code",status:"new"}],n=Object(N.g)(),r=Object(N.f)(),c=Object(N.h)(),i=Object(a.useState)(t),o=Object(p.a)(i,2),s=o[0],l=o[1],u=Object(a.useState)((function(){return C.a.parse(n.search).status||"all"})),j=Object(p.a)(u,2),h=j[0],O=j[1];Object(a.useEffect)((function(){var e=C.a.parse(n.search);O(e.status||"all")}),[n.search]);var x=s.filter((function(e){return"all"===h||e.status===h}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Todo Form"}),Object(m.jsx)(w,{onSubmit:function(e){var n={id:t.length+1,title:e.title,status:"new"},a=[].concat(Object(b.a)(s),[n]);l(a)}}),Object(m.jsx)("h2",{children:"Todo List"}),Object(m.jsx)(f,{todoList:x,onTodoClick:function(e,t){var n=Object(b.a)(s),a=Object(d.a)(Object(d.a)({},s[t]),{},{status:"new"===s[t].status?"completed":"new"});n[t]=a,l(n)}}),Object(m.jsxs)("div",{className:"button__div",children:[Object(m.jsx)("button",{onClick:function(){r.push({pathname:c.path,search:C.a.stringify({status:"all"})})},children:"Show All"}),Object(m.jsx)("button",{onClick:function(){r.push({pathname:c.path,search:C.a.stringify({status:"completed"})})},children:"Show Completed"}),Object(m.jsx)("button",{onClick:function(){r.push({pathname:c.path,search:C.a.stringify({status:"new"})})},children:"Show New"})]})]})};var P=function(e){return Object(m.jsx)("div",{children:"TodoDetail"})};var _=function(e){return Object(m.jsxs)(N.c,{children:[Object(m.jsx)(N.a,{path:"/todos",component:k}),Object(m.jsx)(N.a,{path:"/todo/:id",component:P})]})};n(311);var T=function(e){var t=e.album;return Object(m.jsxs)("div",{className:"album",children:[Object(m.jsx)("div",{className:"album__thumbnail",children:Object(m.jsx)("img",{src:t.thumbnailUrl,alt:t.title})}),Object(m.jsx)("div",{className:"album__title",children:Object(m.jsx)("p",{children:t.title})})]})};n(312);var I=function(e){var t=e.albumList;return Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsx)("ul",{className:"albumlist",children:t.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(T,{album:e})},e.id)}))})})};var F=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Danh s\xe1ch Album"}),Object(m.jsx)(I,{albumList:[{id:"1",title:"M\u1edf \u0110\u1ea7u Ho\xe0n H\u1ea3o",thumbnailUrl:"https://photo-resize-zmp3.zadn.vn/w320_r1x1_jpeg/cover/1/7/b/a/17ba5720e78f37ed33351b9957fb507d.jpg"},{id:"2",title:"Nh\u1eb9 Nh\xe0ng C\xf9ng V-Pop",thumbnailUrl:"https://photo-resize-zmp3.zadn.vn/w320_r1x1_jpeg/cover/2/2/8/a/228ae8d6484203f420c65c44e85511a0.jpg"},{id:"3",title:"Trong Tu\u1ea7n Nghe G\xec?",thumbnailUrl:"https://photo-resize-zmp3.zadn.vn/w320_r1x1_jpeg/cover/a/0/7/c/a07c63ed2a99ec820b37369e08d2bc63.jpg"}]})]})},A=n(167),R=n.n(A).a.create({baseURL:"https://api.ezfrontend.com/",headers:{"Content-Type":"application/json"}});R.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),R.interceptors.response.use((function(e){return e.data}),(function(e){var t=e.response,n=t.config,a=t.status,r=t.data;if(["/auth/local/register","/auth/local"].includes(n.url)&&400===a){var c=r.data||[],i=(c.length>0?c[0]:{}).messages||[],o=i.length>0?i[0]:{};throw new Error(o.message)}return Promise.reject(e)}));var E=R,q={getAll:function(e){return Object(j.a)(u.a.mark((function t(){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(d.a)({},e))._start=!e._page||e._page<=1?0:(e._page-1)*(e._limit||50),delete n._page,t.next=5,E.get("/products",{params:n});case 5:return a=t.sent,t.next=8,E.get("/products/count",{params:n});case 8:return r=t.sent,t.abrupt("return",{data:a,pagination:{page:e._page,limit:e._limit,total:r}});case 10:case"end":return t.stop()}}),t)})))()},get:function(e){var t="/products/".concat(e);return E.get(t)},add:function(e){return E.post("/products",e)},update:function(e){var t="/products/".concat(e.id);return E.patch(t,e)},remove:function(e){var t="/products/".concat(e);return E.delete(t)}},z=(0,n(39).createSlice)({name:"counter",initialState:0,reducers:{increase:function(e,t){return e+1},decrease:function(e,t){return e-1}}}),D=z.actions,L=z.reducer,M=(D.increase,D.decrease,L);var B=n(380),V=n(384),U=n(385),H=n(118),W=n(382),G=n(168),J=n.n(G),K=n(408),Q=n(390),Z=n(406),X=n(99),Y=n.n(X),$=n(379),ee=n(404),te=n(405),ne=n(378),ae=n(376),re=n(113),ce=n.n(re),ie=n(114),oe=n.n(ie),se=n(377);var le=function(e){var t,n=e.form,r=e.name,c=e.label,i=e.disable,o=n.formState.errors,s=n.formState,l=o[r]&&s.touchedFields[r],u=Object(a.useState)(!1),j=Object(p.a)(u,2),b=j[0],h=j[1],f=function(){h((function(e){return!e}))};return Object(m.jsxs)(ae.a,{error:l,margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(m.jsx)(te.a,{htmlFor:r,children:c}),Object(m.jsx)(x.a,{name:r,control:n.control,render:function(e){var t=e.field;return Object(m.jsx)(ee.a,Object(d.a)(Object(d.a)({},t),{},{id:r,type:b?"text":"password",label:c,endAdornment:Object(m.jsx)(ne.a,{position:"end",children:Object(m.jsx)($.a,{onClick:f,edge:"end",children:b?Object(m.jsx)(ce.a,{}):Object(m.jsx)(oe.a,{})})}),disabled:i}))}}),Object(m.jsx)(se.a,{children:null===(t=o[r])||void 0===t?void 0:t.message})]})},ue=n(381),je=Object(B.a)((function(e){return{root:{paddingTop:e.spacing(4)},avatar:{margin:"0 auto",backgroundColor:e.palette.secondary.main},title:{margin:e.spacing(2,0,3,0),textAlign:"center"},submit:{margin:e.spacing(3,0,2,0)},line:{marginBottom:e.spacing(4)}}}));var de,be=function(e){var t=je(),n=y.b().shape({fullName:y.d().required("Please enter your FullName").test("Should has at least two words","Please enter at least two words.",(function(e){return e.trim().split(" ").length>=2})),email:y.d().required("Please enter your Email").email("Please enter a valid email address"),password:y.d().required("Please enter your password").min(6,"Please enter at least 6 characters."),retypePassword:y.d().required("Please retype your password.").oneOf([y.c("password")],"Password does not match.")}),a=Object(x.e)({defaultValues:{fullName:"",email:"",password:"",retypePassword:""},resolver:Object(v.a)(n)}),r=function(){var t=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.onSubmit)){t.next=4;break}return t.next=4,a(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=a.formState.isSubmitting;return Object(m.jsxs)("div",{className:t.root,children:[c&&Object(m.jsx)(ue.a,{className:t.line}),Object(m.jsx)(Z.a,{className:t.avatar,children:Object(m.jsx)(Y.a,{})}),Object(m.jsx)(H.a,{className:t.title,component:"h3",variant:"h5",children:"Create An Account"}),Object(m.jsxs)("form",{onSubmit:a.handleSubmit(r),children:[Object(m.jsx)(g,{name:"fullName",label:"Full Name",form:a}),Object(m.jsx)(g,{name:"email",label:"Email",form:a}),Object(m.jsx)(le,{name:"password",label:"Password",form:a}),Object(m.jsx)(le,{name:"retypePassword",label:"Retype Password",form:a}),Object(m.jsx)(W.a,{disabled:c,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Create an account"})]})]})},pe=n(39),me=n(36),he={register:function(e){return E.post("/auth/local/register",e)},login:function(e){return E.post("/auth/local",e)}},fe={USER:"user",TOKEN:"access_token"},Oe=Object(pe.createAsyncThunk)("user/register",function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.register(t);case 2:return n=e.sent,localStorage.setItem(fe.TOKEN,n.jwt),localStorage.setItem(fe.USER,JSON.stringify(n.user)),e.abrupt("return",n.user);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),xe=Object(pe.createAsyncThunk)("user/login",function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.login(t);case 2:return n=e.sent,localStorage.setItem("access_token",n.jwt),localStorage.setItem("user",JSON.stringify(n.user)),e.abrupt("return",n.user);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ge=Object(pe.createSlice)({name:"user",initialState:{current:JSON.parse(localStorage.getItem(fe.USER))||{},settings:{}},reducers:{logout:function(e){localStorage.removeItem(fe.USER),localStorage.removeItem(fe.TOKEN),e.current={}}},extraReducers:(de={},Object(me.a)(de,Oe.fulfilled,(function(e,t){e.current=t.payload})),Object(me.a)(de,xe.fulfilled,(function(e,t){e.current=t.payload})),de)}),ve=ge.actions,ye=ge.reducer,we=ve.logout,Se=ye,Ce=n(59),Ne=n(383);var ke=function(e){var t=Object(s.b)(),n=Object(Ce.b)().enqueueSnackbar,a=function(){var a=Object(j.a)(u.a.mark((function a(r){var c,i,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r.username=r.email,c=Oe(r),a.next=5,t(c);case 5:i=a.sent,Object(pe.unwrapResult)(i),(o=e.closeDialog)&&o(),n("Register success!!",{anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:Ne.a,variant:"success"}),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.log("Failed to register: ",a.t0),n(a.t0.message,{anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:Ne.a,variant:"error"});case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}();return Object(m.jsx)("div",{children:Object(m.jsx)(be,{onSubmit:a})})},Pe=n(386),_e=n(387),Te=n(389),Ie=n(397),Fe=Object(B.a)((function(e){return{root:{paddingTop:e.spacing(4)},avatar:{margin:"0 auto",backgroundColor:e.palette.secondary.main},title:{margin:e.spacing(2,0,3,0),textAlign:"center"},submit:{margin:e.spacing(3,0,2,0)},line:{marginBottom:e.spacing(4)}}}));var Ae=function(e){var t=Fe(),n=y.b().shape({identifier:y.d().required("Please enter your Email").email("Please enter a valid email address"),password:y.d().required("Please enter your password")}),a=Object(x.e)({defaultValues:{identifier:"",password:""},resolver:Object(v.a)(n)}),r=function(){var t=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.onSubmit)){t.next=4;break}return t.next=4,a(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=a.formState.isSubmitting;return Object(m.jsxs)("div",{className:t.root,children:[c&&Object(m.jsx)(ue.a,{className:t.line}),Object(m.jsx)(Z.a,{className:t.avatar,children:Object(m.jsx)(Y.a,{})}),Object(m.jsx)(H.a,{className:t.title,component:"h3",variant:"h5",children:"Sign In"}),Object(m.jsxs)("form",{onSubmit:a.handleSubmit(r),children:[Object(m.jsx)(g,{name:"identifier",label:"Email",form:a}),Object(m.jsx)(le,{name:"password",label:"Password",form:a}),Object(m.jsx)(W.a,{disabled:c,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]})};var Re=function(e){var t=Object(s.b)(),n=Object(Ce.b)().enqueueSnackbar,a=function(){var a=Object(j.a)(u.a.mark((function a(r){var c,i,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r.username=r.email,c=xe(r),a.next=5,t(c);case 5:i=a.sent,Object(pe.unwrapResult)(i),(o=e.closeDialog)&&o(),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log("Failed to login: ",a.t0),n(a.t0.message,{anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:Ne.a,variant:"error"});case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}();return Object(m.jsx)("div",{children:Object(m.jsx)(Ae,{onSubmit:a})})},Ee=n(169),qe=n.n(Ee),ze=n(173),De=n(407),Le=n(388),Me=n(93),Be=function(e){return e.cart.cartItems},Ve=Object(Me.a)(Be,(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),Ue=(Object(Me.a)(Be,(function(e){return e.reduce((function(e,t){return e+t.product.salePrice*t.quantity}),0)})),Object(B.a)((function(e){return{root:{flexGrow:1,position:"relative"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{textDecoration:"none",color:"#fff"},closeButton:{position:"absolute",top:e.spacing(1),right:e.spacing(1),color:e.palette.grey[500],zIndex:2}}}))),He="login",We="register";function Ge(){var e=Object(s.b)(),t=!!Object(s.c)((function(e){return e.user.current.username})),n=Object(s.c)(Ve),r=Object(N.f)(),c=Ue(),i=Object(a.useState)(!1),l=Object(p.a)(i,2),u=l[0],j=l[1],d=Object(a.useState)(He),b=Object(p.a)(d,2),h=b[0],f=b[1],O=Object(a.useState)(null),x=Object(p.a)(O,2),g=x[0],v=x[1],y=function(){j(!1)},w=function(){v(null)};return Object(m.jsxs)("div",{className:c.root,children:[Object(m.jsx)(V.a,{position:"static",children:Object(m.jsxs)(U.a,{children:[Object(m.jsx)(J.a,{className:c.menuButton}),Object(m.jsx)(H.a,{variant:"h6",className:c.title,children:Object(m.jsx)(o.b,{className:c.link,to:"/",children:"EZ SHOP"})}),Object(m.jsx)(o.c,{className:c.link,to:"/products",activeClassName:"active",children:Object(m.jsx)(W.a,{color:"inherit",children:"Products"})}),Object(m.jsx)(o.c,{className:c.link,to:"/todos",activeClassName:"active",children:Object(m.jsx)(W.a,{color:"inherit",children:"Todos"})}),Object(m.jsx)(o.c,{className:c.link,to:"/albums",activeClassName:"active",children:Object(m.jsx)(W.a,{color:"inherit",children:"Albums"})}),!t&&Object(m.jsx)(W.a,{color:"inherit",onClick:function(){j(!0)},children:"Login"}),Object(m.jsx)($.a,{"aria-label":"show 11 new notifications",color:"inherit",onClick:function(){r.push("/cart")},children:Object(m.jsx)(Pe.a,{badgeContent:n,color:"secondary",children:Object(m.jsx)(_e.a,{})})}),t&&Object(m.jsx)($.a,{color:"inherit",onClick:function(e){v(e.currentTarget)},children:Object(m.jsx)(qe.a,{})})]})}),Object(m.jsxs)(ze.a,{anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:w,TransitionComponent:Le.a,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null,children:[Object(m.jsx)(De.a,{onClick:w,children:"Profile"}),Object(m.jsx)(De.a,{onClick:w,children:"My account"}),Object(m.jsx)(De.a,{onClick:function(){var t=we();e(t),v(null)},children:"Logout"})]}),Object(m.jsxs)(K.a,{open:u,onClose:y,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,disableEscapeKeyDown:!0,children:[Object(m.jsx)($.a,{className:c.closeButton,onClick:y,children:Object(m.jsx)(Te.a,{})}),Object(m.jsxs)(Q.a,{children:[h===We&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ke,{closeDialog:y}),Object(m.jsx)(Ie.a,{textAlign:"center",children:Object(m.jsx)(W.a,{color:"primary",onClick:function(){return f(He)},children:"Already have an account. Login here"})})]}),h===He&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Re,{closeDialog:y}),Object(m.jsx)(Ie.a,{textAlign:"center",children:Object(m.jsx)(W.a,{color:"primary",onClick:function(){return f(We)},children:"Don't have an account. Register here."})})]})]})]})]})}var Je=n(395),Ke=n(391),Qe=n(334),Ze=n(392);function Xe(e){var t=e.length;return Object(m.jsx)(Ie.a,{children:Object(m.jsx)(Ke.a,{container:!0,children:Array.from(new Array(t)).map((function(e,t){return Object(m.jsx)(Ke.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(m.jsxs)(Ie.a,{padding:1,children:[Object(m.jsx)(Ze.a,{variant:"rect",width:"100%",height:200}),Object(m.jsx)(Ze.a,{}),Object(m.jsx)(Ze.a,{width:"60%"})]})},t)}))})})}Xe.defaultProps={length:6};var Ye=Xe,$e="https://api.ezfrontend.com",et="https://via.placeholder.com/444";function tt(e){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}var nt=function(e){var t,n=e.product,a=n.thumbnail?"".concat($e).concat(null===(t=n.thumbnail)||void 0===t?void 0:t.url):et,r=Object(N.f)();return Object(m.jsx)("div",{children:Object(m.jsxs)(Ie.a,{padding:1,onClick:function(){r.push("/products/".concat(n.id))},children:[Object(m.jsx)(Ie.a,{padding:1,minHeight:"215px",children:Object(m.jsx)("img",{src:a,alt:n.name,width:"100%"})}),Object(m.jsx)(H.a,{variant:"body2",children:n.name}),Object(m.jsxs)(H.a,{variant:"body2",children:[Object(m.jsx)(Ie.a,{component:"span",fontSize:"16px",fontWeight:"bold",mr:1,children:tt(n.salePrice)}),n.promotionPercent>0?" -".concat(n.promotionPercent,"%"):""]})]})})};function at(e){var t=e.data;return Object(m.jsx)(Ie.a,{children:Object(m.jsx)(Ke.a,{container:!0,children:t.map((function(e){return Object(m.jsx)(Ke.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(m.jsx)(nt,{product:e})},e.id)}))})})}at.defaultProps={data:[]};var rt=at,ct=n(400),it=n(399),ot=n(393);var st=function(e){var t=e.currentSort,n=e.onChange;return Object(m.jsxs)(it.a,{value:t,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){n&&n(t)},"aria-label":"disabled tabs example",children:[Object(m.jsx)(ot.a,{label:"Gi\xe1 th\u1ea5p t\u1edbi cao",value:"salePrice:ASC"}),Object(m.jsx)(ot.a,{label:"Gi\xe1 cao xu\u1ed1ng th\u1ea5p",value:"salePrice:DESC"})]})},lt={getAll:function(e){return E.get("/categories",{params:e})},get:function(e){var t="/categories/".concat(e);return E.get(t)},add:function(e){return E.post("/categories",e)},update:function(e){var t="/categories/".concat(e.id);return E.patch(t,e)},remove:function(e){var t="/categories/".concat(e);return E.delete(t)}},ut=Object(B.a)((function(e){return{root:{padding:e.spacing(2)},menu:{padding:0,margin:0,listStyleType:"none","& > li":{marginTop:e.spacing(1),trainsition:"all .25","&:hover":{cursor:"pointer",color:e.palette.primary.main,trainsition:"all .25"}}}}}));var jt=function(e){var t=e.onChange,n=ut(),a=r.a.useState([]),c=Object(p.a)(a,2),i=c[0],o=c[1];return r.a.useEffect((function(){Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lt.getAll();case 3:t=e.sent,o(t.map((function(e){return{id:e.id,name:e.name}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed to fetch category list ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(m.jsxs)(Ie.a,{className:n.root,children:[Object(m.jsx)(H.a,{variant:"subtitle2",children:"DANH M\u1ee4C S\u1ea2N PH\u1ea8M"}),Object(m.jsx)("ul",{className:n.menu,children:i.map((function(e){return Object(m.jsx)("li",{onClick:function(){return function(e){t&&t(e.id)}(e)},children:Object(m.jsx)(H.a,{variant:"body2",children:e.name})},e.id)}))})]})},dt=Object(B.a)((function(e){return{root:{borderTop:"1px solid ".concat(e.palette.grey[300]),padding:e.spacing(2)},range:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexFlow:"row nowrap",alignItems:"center","& > span":{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}}));var bt=function(e){var t=e.onChange,n=dt(),a=r.a.useState({salePrice_gte:0,salePrice_lte:0}),c=Object(p.a)(a,2),i=c[0],o=c[1],s=function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(me.a)({},n,a))}))};return Object(m.jsxs)(Ie.a,{className:n.root,children:[Object(m.jsx)(H.a,{variant:"subtitle2",children:"GI\xc1"}),Object(m.jsxs)(Ie.a,{className:n.range,children:[Object(m.jsx)(O.a,{name:"salePrice_gte",value:i.salePrice_gte,onChange:s}),Object(m.jsx)("span",{children:"-"}),Object(m.jsx)(O.a,{name:"salePrice_lte",value:i.salePrice_lte,onChange:s})]}),Object(m.jsx)(W.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){t&&t(i),o({salePrice_gte:0,salePrice_lte:0})},children:"\xc1p d\u1ee5ng"})]})},pt=n(394),mt=n(402),ht=Object(B.a)((function(e){return{root:{borderTop:"1px solid ".concat(e.palette.grey[300]),padding:e.spacing(2)},list:{padding:0,margin:0,listStyleType:"none","& > li":{margin:0}}}}));var ft=function(e){var t=e.filters,n=e.onChange,a=ht(),r=function(e){if(n){var t=e.target,a=t.name,r=t.checked;n(Object(me.a)({},a,r))}};return Object(m.jsxs)(Ie.a,{className:a.root,children:[Object(m.jsx)(H.a,{variant:"subtitle2",children:"D\u1ecaCH V\u1ee4"}),Object(m.jsx)("ul",{className:a.list,children:[{value:"isPromotion",label:"C\xf3 khuy\u1ec5n m\xe3i"},{value:"isFreeShip",label:"V\u1eadn chuy\u1ec3n mi\u1ec5n ph\xed"}].map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(pt.a,{control:Object(m.jsx)(mt.a,{checked:Boolean(t[e.value]),onChange:r,name:e.value,color:"primary"}),label:e.label})},e.value)}))})]})};var Ot=function(e){var t=e.filters,n=e.onChange,a=function(e){n&&n(e)};return Object(m.jsxs)(Ie.a,{children:[Object(m.jsx)(jt,{onChange:function(e){n&&n({"category.id":e})}}),Object(m.jsx)(bt,{onChange:a}),Object(m.jsx)(ft,{filters:t,onChange:a})]})},xt=n(409),gt=Object(B.a)((function(e){return{root:{display:"flex",flexFlow:"row wrap",alignItems:"center",padding:0,margin:e.spacing(2,0),listStyleType:"none","& > li":{margin:0,padding:e.spacing(1)}}}})),vt=[{id:1,getLabel:function(){return"Giao h\xe0ng mi\u1ec5n ph\xed"},isActive:function(e){return e.isFreeShip},isVisible:function(){return!0},isRemovable:!1,onRemove:function(){},onToggle:function(e){var t=Object(d.a)({},e);return t.isFreeShip?delete t.isFreeShip:t.isFreeShip=!0,t}},{id:2,getLabel:function(){return"C\xf3 khuy\u1ebfn m\xe3i"},isActive:function(){return!0},isVisible:function(e){return e.isPromotion},isRemovable:!0,onRemove:function(e){var t=Object(d.a)({},e);return delete t.isPromotion,t},onToggle:null},{id:3,getLabel:function(e){return"T\u1eeb ".concat(e.salePrice_gte," \u0111\u1ebfn ").concat(e.salePrice_lte)},isActive:function(){return!0},isVisible:function(e){return Object.keys(e).includes("salePrice_lte")&&Object.keys(e).includes("salePrice_gte")},isRemovable:!0,onRemove:function(e){var t=Object(d.a)({},e);return delete t.salePrice_lte,delete t.salePrice_gte,t},onToggle:null},{id:4,getLabel:function(e){return"Danh m\u1ee5c"},isActive:function(){return!0},isVisible:function(e){return Object.keys(e).includes("category.id")},isRemovable:!0,onRemove:function(e){var t=Object(d.a)({},e);return delete t["category.id"],t},onToggle:null}];var yt=function(e){var t=e.filters,n=void 0===t?{}:t,r=e.onChange,c=void 0===r?null:r,i=gt(),o=Object(a.useMemo)((function(){return vt.filter((function(e){return e.isVisible(n)}))}),[n]);return Object(m.jsx)(Ie.a,{component:"ul",className:i.root,children:o.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(xt.a,{label:e.getLabel(n),color:e.isActive(n)?"primary":"default",clickable:!e.isRemovable,onClick:e.isRemovable?null:function(){if(c){var t=e.onToggle(n);c(t)}},onDelete:e.isRemovable?function(){if(c){var t=e.onRemove(n);c(t)}}:null})},e.id)}))})},wt=Object(B.a)((function(e){return{root:{},left:{width:"250px"},right:{flex:"1 1 0"},pagination:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",marginTop:"30px",paddingBottom:"20px"}}}));var St=function(e){var t=wt(),n=r.a.useState([]),a=Object(p.a)(n,2),c=a[0],i=a[1],o=Object(N.f)(),s=Object(N.g)(),l=r.a.useMemo((function(){var e=C.a.parse(s.search);return Object(d.a)(Object(d.a)({},e),{},{_page:Number.parseInt(e._page)||1,_limit:Number.parseInt(e._limit)||12,_sort:e._sort||"salePrice:ASC",isPromotion:"true"===e.isPromotion,isFreeShip:"true"===e.isFreeShip})}),[s.search]),b=r.a.useState({limit:10,total:10,page:1}),h=Object(p.a)(b,2),f=h[0],O=h[1],x=r.a.useState(!0),g=Object(p.a)(x,2),v=g[0],y=g[1];return r.a.useEffect((function(){Object(j.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.getAll(l);case 3:t=e.sent,n=t.data,a=t.pagination,console.log({data:n,pagination:a}),i(n),O(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Failed to load product list: ",e.t0);case 14:y(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[l]),Object(m.jsx)(Ie.a,{children:Object(m.jsx)(Je.a,{children:Object(m.jsxs)(Ke.a,{container:!0,spacing:1,children:[Object(m.jsx)(Ke.a,{item:!0,className:t.left,children:Object(m.jsx)(Qe.a,{elevation:0,children:Object(m.jsx)(Ot,{filters:l,onChange:function(e){var t=Object(d.a)(Object(d.a)({},l),e);o.push({pathname:o.location.pathname,search:C.a.stringify(t)})}})})}),Object(m.jsx)(Ke.a,{item:!0,className:t.right,children:Object(m.jsxs)(Qe.a,{elevation:0,children:[Object(m.jsx)(st,{currentSort:l._sort,onChange:function(e){var t=Object(d.a)(Object(d.a)({},l),{},{_sort:e});o.push({pathname:o.location.pathname,search:C.a.stringify(t)})}}),Object(m.jsx)(yt,{filters:l,onChange:function(e){o.push({pathname:o.location.pathname,search:C.a.stringify(e)})}}),v?Object(m.jsx)(Ye,{length:l._limit}):Object(m.jsx)(rt,{data:c}),Object(m.jsx)(Ie.a,{className:t.pagination,children:Object(m.jsx)(ct.a,{color:"primary",count:Math.ceil(f.total/f.limit),page:f.page,onChange:function(e,t){var n=Object(d.a)(Object(d.a)({},l),{},{_page:t});o.push({pathname:o.location.pathname,search:C.a.stringify(n)})}})})]})})]})})})};var Ct=function(e){var t,n=e.product,a=n.thumbnail?"".concat($e).concat(null===(t=n.thumbnail)||void 0===t?void 0:t.url):et;return Object(m.jsx)(Ie.a,{children:Object(m.jsx)("img",{src:a,alt:n.name,width:"100%"})})};var Nt=Object(B.a)((function(e){return{root:{},description:{margin:e.spacing(2,0)},priceBox:{padding:e.spacing(2),backgroundColor:e.palette.grey[100]},salePrice:{fontSize:e.typography.h4.fontSize,marginRight:e.spacing(3),fontWeight:"bold"},originalPrice:{marginRight:e.spacing(2),textDecoration:"line-through"},promotionPercent:{}}}));var kt=function(e){var t=e.product,n=void 0===t?{}:t,a=Nt(),r=n.name,c=n.shortDescription,i=n.salePrice,o=n.originalPrice,s=n.promotionPercent;return Object(m.jsxs)(Ie.a,{className:a.root,children:[Object(m.jsx)(H.a,{component:"h1",variant:"h4",children:r}),Object(m.jsx)(H.a,{variant:"body2",className:a.description,children:c}),Object(m.jsxs)(Ie.a,{className:a.priceBox,children:[Object(m.jsx)(Ie.a,{component:"span",className:a.salePrice,children:tt(i)}),s>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ie.a,{component:"span",className:a.originalPrice,children:tt(o)}),Object(m.jsx)(Ie.a,{component:"span",className:a.promotionPercent,children:"-".concat(s,"%")})]})]})]})},Pt=n(170),_t=n.n(Pt),Tt=n(171),It=n.n(Tt);var Ft=function(e){var t,n=e.form,a=e.name,r=e.label,c=e.disable,i=n.formState.errors,o=n.formState,s=n.setValue,l=i[a]&&o.touchedFields[a];return Object(m.jsxs)(ae.a,{error:l,margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(m.jsx)(H.a,{children:r}),Object(m.jsx)(x.a,{name:a,control:n.control,render:function(e){var t=e.field;return Object(m.jsxs)(Ie.a,{children:[Object(m.jsx)($.a,{onClick:function(){return s(t.name,Number.parseInt(t.value)-1)},children:Object(m.jsx)(_t.a,{})}),Object(m.jsx)(ee.a,Object(d.a)(Object(d.a)({},t),{},{id:a,type:"number",disabled:c})),Object(m.jsx)($.a,{onClick:function(){return s(t.name,Number.parseInt(t.value)+1)},children:Object(m.jsx)(It.a,{})})]})}}),Object(m.jsx)(se.a,{children:null===(t=i[a])||void 0===t?void 0:t.message})]})};var At=function(e){var t=e.onSubmit,n=void 0===t?null:t,a=y.b().shape({quantity:y.a().min(1,"Please enter at least 1").required("Please enter quantity").typeError("Please enter a number")}),r=Object(x.e)({defaultValues:{quantity:1},resolver:Object(v.a)(a)}),c=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,n(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{onSubmit:r.handleSubmit(c),children:[Object(m.jsx)(Ft,{name:"quantity",label:"Quantity",form:r}),Object(m.jsx)(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Buy"})]})},Rt=n(396),Et=Object(B.a)((function(e){return{root:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"center",padding:0,listStyleType:"none","& > li":{padding:e.spacing(2,4)},"& > li > a":{color:e.palette.grey[700]},"& > li > a.active":{color:e.palette.primary.main,textDecoration:"underline"}}}}));var qt=function(e){var t=Et(),n=Object(N.h)().url;return Object(m.jsxs)(Ie.a,{component:"ul",className:t.root,children:[Object(m.jsx)("li",{children:Object(m.jsx)(Rt.a,{component:o.c,to:n,exact:!0,children:"Description"})}),Object(m.jsx)("li",{children:Object(m.jsx)(Rt.a,{component:o.c,to:"".concat(n,"/additional"),exact:!0,children:"Additional Information"})}),Object(m.jsx)("li",{children:Object(m.jsx)(Rt.a,{component:o.c,to:"".concat(n,"/reviews"),exact:!0,children:"Reviews"})})]})},zt=n(172),Dt=n.n(zt);var Lt=function(e){var t=e.product,n=void 0===t?{}:t,a=Dt.a.sanitize(n.description);return Object(m.jsx)(Qe.a,{elevation:0,style:{padding:"15px"},children:Object(m.jsx)("div",{dangerouslySetInnerHTML:{__html:a}})})};var Mt=function(e){return Object(m.jsx)("div",{children:"Additional"})};var Bt=function(e){return Object(m.jsx)("div",{children:"Review"})},Vt=(0,n(39).createSlice)({name:"cart",initialState:{showMiniCart:!1,cartItems:[]},reducers:{showMiniCart:function(e,t){e.showMiniCart=!0},hideMiniCart:function(e,t){e.showMiniCart=!1},addToCart:function(e,t){var n=t.payload,a=e.cartItems.findIndex((function(e){return e.id===n.id}));a>=0?e.cartItems[a].quantity+=n.quantity:e.cartItems.push(n)},setQuantity:function(e,t){var n=t.payload,a=n.id,r=n.quantity,c=e.cartItems.findIndex((function(e){return e.id===a}));c>=0&&(e.cartItems[c].quantity=r)},removeFromCart:function(e,t){var n=t.payload;e.cartItems=e.cartItems.filter((function(e){return e.id!==n}))}}}),Ut=Vt.actions,Ht=Vt.reducer,Wt=(Ut.showMiniCart,Ut.hideMiniCart,Ut.addToCart),Gt=(Ut.setQuantity,Ut.removeFromCart,Ht),Jt=Object(B.a)((function(e){return{root:{},left:{width:"400px",padding:e.spacing(1.5),borderRight:"1px solid ".concat(e.palette.grey[300])},right:{flex:"1 1 0",padding:e.spacing(1.5)},loading:{position:"fixed",top:0,left:0,width:"100%"}}}));var Kt=function(e){var t=Jt(),n=Object(s.b)(),a=Object(N.h)(),c=a.params.productId,i=a.url,o=function(e){var t=r.a.useState({}),n=Object(p.a)(t,2),a=n[0],c=n[1],i=r.a.useState(!0),o=Object(p.a)(i,2),s=o[0],l=o[1];return r.a.useEffect((function(){Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l(!0),t.next=4,q.get(e);case 4:n=t.sent,c(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Failed to fetch product ",t.t0);case 11:l(!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[e]),{product:a,loading:s}}(c),l=o.product;return o.loading?Object(m.jsx)(Ie.a,{className:t.loading,children:Object(m.jsx)(ue.a,{})}):Object(m.jsx)(Ie.a,{className:t.root,children:Object(m.jsxs)(Je.a,{children:[Object(m.jsx)(Qe.a,{elevation:0,children:Object(m.jsxs)(Ke.a,{container:!0,children:[Object(m.jsx)(Ke.a,{item:!0,className:t.left,children:Object(m.jsx)(Ct,{product:l})}),Object(m.jsxs)(Ke.a,{item:!0,className:t.right,children:[Object(m.jsx)(kt,{product:l}),Object(m.jsx)(At,{onSubmit:function(e){var t=Wt({id:l.id,product:l,quantity:e.quantity});console.log(t),n(t)}})]})]})}),Object(m.jsx)(qt,{}),Object(m.jsxs)(N.c,{children:[Object(m.jsx)(N.a,{exact:!0,path:i,children:Object(m.jsx)(Lt,{product:l})}),Object(m.jsx)(N.a,{exact:!0,path:"".concat(i,"/additional"),children:Object(m.jsx)(Mt,{})}),Object(m.jsx)(N.a,{exact:!0,path:"".concat(i,"/reviews"),children:Object(m.jsx)(Bt,{})})]})]})})};var Qt=function(e){var t=Object(N.h)();return Object(m.jsx)(Ie.a,{pt:4,children:Object(m.jsxs)(N.c,{children:[Object(m.jsx)(N.a,{path:t.url,exact:!0,component:St}),Object(m.jsx)(N.a,{path:"".concat(t.url,"/:productId"),component:Kt})]})})};var Zt=function(e){return Object(m.jsx)("div",{children:"Cart Feature"})};var Xt=function(){return Object(Ce.b)().enqueueSnackbar,Object(a.useEffect)((function(){var e={_limit:10};(function(){var t=Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=q.getAll(e),console.log(n);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(Ge,{}),Object(m.jsx)(N.a,{path:"/todos",component:_}),Object(m.jsx)(N.a,{path:"/albums",component:F}),Object(m.jsx)(N.a,{path:"/products",component:Qt}),Object(m.jsx)(N.a,{path:"/cart",component:Zt})]})},Yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,411)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},$t={counter:M,user:Se,cart:Gt},en=Object(pe.configureStore)({reducer:$t});i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(s.a,{store:en,children:Object(m.jsx)(o.a,{children:Object(m.jsx)(Ce.a,{children:Object(m.jsx)(Xt,{})})})})}),document.getElementById("root")),Yt()}},[[332,1,2]]]);
//# sourceMappingURL=main.d92eb0c7.chunk.js.map